<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Ilium VR Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ivrstyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="//iliumvr.com/developers/"><img alt="Logo" src="DocumentationHeader.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <span id="projectnumber">0.3</span>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Ilium VR Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Overview</h1>
<p>The Ilium VR API aims to provide a very simple way for both users and developers to make full use of our controllers. The experience we are looking to create on both ends are the following:</p>
<h2>User</h2>
<p>A user, having just unboxed a controller and plugging it in for the first time will be instructed to go to our website and download our runtime package. This package will install a service/daemon and a GUI client that sits in the system tray, providing a way to verify our controllers are working as well as to customize settings such as handedness.</p>
<p>After the install, the user will be able to play any Ilium VR compatible title by simply starting the game. Compatible titles will automatically start the game with the controllers enabled under the following conditions:</p>
<ul>
<li>The Ilium VR Runtime Service is installed and running</li>
<li>An Ilium VR controller is plugged into the system</li>
<li>The user has not globally or locally disabled controller use.</li>
</ul>
<p>Within every game's settings, there must be an option to disable the use of the controllers.</p>
<h2>Developer</h2>
<p>On the developer end, we want to make integration as simple as drag-and-drop for developers working with the most common game engines such as Unity 5 and Unreal Engine. Stay tuned for documentation on our engine integrations. There are currently example projects for both Unity and Unreal that should explain how to use our plugins in a fairly straightforward way.</p>
<p>If you are using an in-house or otherwise proprietary engine, most of this documentation is aimed at you. Our API is written in pure C99 without any complex langage features. This makes it simple to write bindings for our API in either the language the engine was written in or the language your engine uses for scripting. Currently we are working on generic C++ and C# bindings.</p>
<h1>Layers</h1>
<p>A lot of the heavy lifting is done before our API is touched. The API is entirely unaware of the hardware or any raw data. The Ilium VR Runtime Service is responsible for all of that.</p>
<h2>Runtime Service</h2>
<p>The runtime service will typically be run as a service on Windows and a daemon on Linux, but can be run from the command line if desired. This process listens for any attached USB devices that look like an Ilium VR controller. It connects to those devices and pulls metadata from it. It will also cleanly detect when a controller is unplugged and communicates that with the API. When a game wants to use a controller, it will attempt to open a connection to the service. The service will then start a thread dedicated to that connection and wait for the game to signal that it is ready for an update (through <code>ivrRuntimeClientRead*()</code>). When this happens, the service will grab the latest data from the controller, convert it to a standard format for that data, and send it back to the API in a standard format.</p>
<h3>Runtime GUI Client</h3>
<p>The GUI client is a tool mostly aimed at users, but can be used for diagnostic purposes as a developer. It has a constant connection with the runtime service and can list all attached devices and detailed information about each one. Use it to make sure everything is working properly.</p>
<h2>libiliumvr (C API)</h2>
<p>libiliumvr is the lowest common denominator of all Ilium VR software released publicly. It is the foundation upon which the service is built as well as our public client API (upon which the GUI client and all game/engine integrations are built). It can be compiled statically or dynamically, with the option of forcing it to statically build against a DLL (with the <code>IVR_FORCE_STATIC</code> preprocessor option). At the moment it is dependent on a few Windows features but is set up to add Linux and OS X support with minimal API and ABI breakage.</p>
<h2>Engine Integration</h2>
<p>At the engine level, libiliumvr should be loaded and used to check for attached controllers. If that is the case, the engine should start a connection to the service via our API and attach the controller data to either your input subsystem and/or the entity representing the controller in the game. Game logic should ideally be structured so that the controller data is read as late in the frame as possible.</p>
<p>If you notice your engine has a large amount of latency on the controllers, consider reading controller data once at the beginning of the frame for game logic and then a second time just before rendering the controller where only the controller's pose is used.</p>
<p>In the event that the service is not installed or not running, the user should be presented with a clear message to download or start the service and fall back on a keyboard and mouse or gamepad input.</p>
<h2>Game Logic</h2>
<p>Though this doesn't directly use the API, make sure to follow best practices for motion controllers. Every feature of the controller should be working in the game (pulling the slide, reloading, etc.) and the motion of the gun should not be altered in any way.</p>
<h1>API Structure</h1>
<h2>Header Files</h2>
<p>All header files, with the exception of <code>ivr.h</code> are included in an <code>ivr/</code> folder to help prevent file name collisions.</p>
<h3>ivr.h</h3>
<p><code>ivr.h</code> defines the version of libiliumvr being used, how functions within the API are to be called, and various other settings for the API in general.</p>
<p><a class="el" href="group__ivrh.html">More information...</a></p>
<h2>Naming Conventions</h2>
<p>The API follows these naming conventions:</p>
<ul>
<li><b>Files</b> are defined in lowercase, headers in the <code>ivr/</code> folder. (e.g. <code>ivr/runtime.h</code>)</li>
<li><b>Constants</b> are defined in constant case with an <code>IVR_</code> prefix. (e.g. <a class="el" href="group__ivrh.html#gaba3153864772473a7489b1b1e71212f4">IVR_IS_DYNAMIC</a>)</li>
<li><b>Structs</b> are defined in snake case with an <code>ivr_</code> prefix. (e.g. <a class="el" href="group__client.html#structivr__client">ivr_client</a>)</li>
<li><b>Functions</b> are defined in camel case with an <code>ivr</code> prefix. (e.g. <a class="el" href="group__client.html#ga1a1018cdea46953d249ee8ab82ff5735">ivrClientInit</a>)</li>
<li><b>Enum types</b> are defined like structs. (e.g. <a class="el" href="group__err.html#ga686f55dcd8879a89c589ddb439546d36">ivr_error_code</a>)</li>
<li><b>Enum values</b> are defined like constants. (e.g. <a class="el" href="group__err.html#gga686f55dcd8879a89c589ddb439546d36ac0e9247b00a008a717388be564d3c915">IVR_E_OUT_OF_MEM</a>)</li>
</ul>
<p><b>Note that anything prefixed by a <code>_</code> is considered internal.</b> Do not rely on it as it will likely change between versions or have unexpected side effects. Documentation generation for these types have been disabled as well.</p>
<h2>Errors</h2>
<p>Almost all functions in the API will return <a class="el" href="group__err.html#ga686f55dcd8879a89c589ddb439546d36">ivr_error_code</a>. This is the API's way of handling errors instead of setting certain variables to -1 or <code>NULL</code>. If the function is successful, you will recieve a value of <code>0</code>, or <a class="el" href="group__err.html#gga686f55dcd8879a89c589ddb439546d36a376e5a5cb117d0a11dd022c6e63b99ab">IVR_E_OK</a>. The standard way of error checking, which is omitted from most documentation samples is the following: </p><pre class="fragment">#include &lt;ivr/something.h&gt;
#include &lt;ivr/error.h&gt;

ivr_error_code err = ivrDoSomething();
if (err)
    printf("ivrDoSomething returned error code %s", ivrErrorDescription(err));
</pre><p><a class="el" href="group__err.html">More information...</a></p>
<h2>Objects</h2>
<p>Since this is a C API, there is no built-in class system. We keep our API simple by creating objects in the form of simple structs that are initialized with the <code>ivrXXXInit(ivr_x** x)</code> and <code>ivrXXXDestroy(ivr_x** x)</code>. These functions take a pointer-to-a-pointer so that the instance can be respectively set to the newly allocated struct or <code>NULL</code> by the API to avoid leaking memory or referencing memory that has already been freed. An example of proper usage: </p><pre class="fragment">#include &lt;ivr/x.h&gt;

void foo() {
    ivr_xyz* xyz = NULL;
    ivrXyzInit(&amp;xyz);

    //do stuff

    ivrXyzDestroy(&amp;xyz);
    //xyz == NULL
}
</pre><p>Note that error checking was omitted from this example.</p>
<h1>Getting Started</h1>
<p>Take a look at the <a class="el" href="group__client.html">Client module documentation</a> for details on how to get started. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
